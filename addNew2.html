<!DOCTYPE html>
<html>
	<head>
		<title>Turbo atributes</title>
		<link rel="stylesheet" type="text/css" href="mystyle.css">
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
		<script type="text/javascript">

			class Turbo {
				constructor (marka, model, pojemnoscsilnika, moc, datarejestracji, nrczesci, producent, cena) {
					this._marka = marka
					this._model = model
					this._pojemnoscsilnika = pojemnoscsilnika
					this._moc = moc
					this._datarejestracji = datarejestracji
					this._nrczesci = nrczesci
					this._producent = producent
					this._cena = cena
				}
				
				set marka(marka) {this._marka = marka}
				get marka() {return this._marka}
				
				set model(model) {this._model = model}
				get model() {return this._model}
				
				set pojemnoscsilnika(pojemnoscsilnika) {this._pojemnoscsilnika = pojemnoscsilnika}
				get pojemnoscsilnika() {return this._pojemnoscsilnika}
				
				set moc(moc) {this._moc = moc}
				get moc() {return this._moc}

				set datarejestracji(datarejestracji) {this._datarejestracji = datarejestracji}
				get datarejestracji() {return this._datarejestracji}
				
				set nrczesci(nrczesci) {this._nrczesci = nrczesci}
				get nrczesci() {return this._nrczesci}	

				set producent(producent) {this._producent = producent}
				get producent() {return this._producent}

				set cena(cena) {this._cena = cena}
				get cena() {return this._cena}					
			}

			$(document).ready(function () {
			    $('#myForm').validate({
			        rules: {
			            marka: {
			                required: true,
			                minlength: 3
			            },
			            model: {
			                required: true,
			            },
			            pojemnoscsilnika: {
			                required: true,
			                minlength: 2
			            },
			            moc: {
			                required: true,
			                minlength: 2
			            },
			            datarejestracji: {
			                required: true
			            },
			            nrczesci: {
			                required: true
			            },
			            producent: {
			                required: true
			            },
			            cena: {
			                required: true
			            }
			        },
			        submitHandler: function (form) {

			           	var marka = $('#marka').val()
			            var model = $('#model').val()
			            var pojemnoscsilnika = $('#pojemnoscsilnika').val()
			            var moc = $('#moc').val()
			            var datarejestracji = $('#datarejestracji').val()
			            var nrczesci = $('#nrczesci').val()
			            var producent = $('input[name=producent]:checked').val()
			            var cena = $('#cena').val()
			            
			            var newTurbo = new Turbo(marka, model, pojemnoscsilnika, moc, datarejestracji, nrczesci, producent, cena);
			    		var TurbosArray = (JSON.parse(localStorage.getItem("Turbos")));
			    		window.localStorage.clear();
			    		TurbosArray.push(newTurbo);
			    		localStorage.setItem("Turbos", JSON.stringify(TurbosArray));

						$(':input','#myForm')
 							.not(':button, :submit, :reset, :hidden')
 							.val('')
							.removeAttr('checked')
							.removeAttr('selected');

						alert('Nowa turbosprężarka dodana');
			            return true;
			        }
			    });
			});

 		</script>
	</head>	

	<body>

		<appTitle>Dodaj nową turbosprężarkę
			<div id="logo"><img src="logo.jpg" alt="logo" ></div>
		</appTitle>
		<ul>
		  <li><a href="index2.html">Back</a></li>
		</ul>
		<br><br>
		<div class="form">
			<form id="myForm">
				<p>
					Marka:<br>
					<input type="text" name="marka" id="marka"/>
				</p>
				<p>
					Model:<br>
					<input type="text" name="model" id="model"/>
				</p>
				<p>
					Pojemnosc silnika:<br>
					<input type="text" name="pojemnoscsilnika" id="pojemnoscsilnika"/>
				</p>
				<p>
					Moc:<br>
					<input type="number" name="moc" id="moc"/>
				</p>
				<p>
					Data pierwszej rejestracji auta:<br>
					<input type="date" name="datarejestracji" id="datarejestracji"/>
				</p>
				<p>
					Numer czesci:<br>
					<input type="text" name="nrczesci" id="nrczesci"/>
				</p>
				<p>
					Producent:<br>
					<!-- <input type="text" name="producent" id="producent"/>  --> 
					<input type="radio" value="Garrett" name="producent" id="producent"/> Garrett
    				<input type="radio" value="KKK" name="producent" id="producent"/> KKK
    				<input type="radio" value="IHI" name="producent" id="producent"/> IHI
				</p>
				<p>
					Cena:<br>
					<input type="number" name="cena" id="cena"/>
				</p>
				<input type="submit" value="Submit">
			</form> 
		</div>
	</body>
</html>